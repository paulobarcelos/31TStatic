<link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../bit-styles/bit-styles.html">

<dom-module id='bit-ui-flavor-name-list'>
	<style include="bit-typography">
		:host{
			@apply(--bit-font);
			display: block;
			text-align: center;
			min-height: 80px;
			font-size: 1.1rem;
			@apply(--name-list);
		}
		@media (max-device-width: 480px) and (orientation : landscape){
			:host{
				font-size: 0.8rem;
				min-height: 55px;
			}
		}
	</style>
	<template>
			<template
				is="dom-repeat"
				items="[[flavors]]"
				sort="_sortBySize">
				<div>
					<div on-tap='_flavorTapped'>
						[[item.name]]
					</div>
				</div>
			</template>
	</template>
</dom-module>

<script>
(() => {
	class Class {
		beforeRegister() {
			this.is = 'bit-ui-flavor-name-list'
			this.properties = {
				flavors: {
					type: Array
				}
			}
		}

		_flavorTapped(e){
			this.fire('flavor-tap', e.model.item)
		}

		_sortBySize(a, b){
			if(typeof a === 'undefined' || typeof b === 'undefined'){
				return
			}
			if(a.size === b.size){
				return ((a.width * a.height) > (b.width * b.height)) ? 1 : -1
			}
			return (a.size > b.size) ? 1 : -1
		}
	}
	Polymer(Class)
})()
</script>
